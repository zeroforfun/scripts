### ip 地址

ip 地址分为 ipv4 和 ipv6

由于 ipv6 现实仍然难以使用或不如 ipv4 普及此处不予讨论 下称 ip 地址均为 ipv4 地址

#### 格式

ipv4 地址格式 如 127.0.0.1 192.168.1.1 192.168.43.1 10.0.0.1 169.254.0.1 8.8.8.8

由 4 个 0-255 的数字和三个把它隔开的点组成 因此转换为二进制占 4 个字节 即 32 个比特位

所有 255 为结尾的地址经常使用作为广播地址 不应做他用 网关静态 ip 经常 1 或 254 为结尾的 ip 地址

##### A 类地址 32 位二进制以 0 开头的地址 即 0.0.0.0 - 127.255.255.255 (0.0.0.0/1)

其中 0.0.0.0 - 0.255.255.255.255 (0.0.0.0/8) 除 0.0.0.0 外为不应使用的非法地址 0.0.0.0 为当前主机

其中 127.0.0.0 - 127.255.255.255 (127.0.0.0/8) 用于本地回环网卡 公网不应使用

其中 10.0.0.0 - 10.255.255.255 (10.0.0.0/8) 为私有地址 用于局域网 公网不应使用

##### B 类地址 32 位二进制以 10 开头的地址 即 128.0.0.0 - 191.255.255.255 (128.0.0.0/2)

其中 172.16.0.0 - 172.31.255.255 (172.16.0.0/12) 为私有地址 用于局域网 公网不应使用

其中 169.254.0.0 -169.254.255.255 (169.254.0.0/16) 为保留地址 为网络故障如网卡没有获得 ip 地址时被系统配置其中的地址 公网不应使用

##### C 类地址 32 位二进制以 110 开头的地址 即 192.0.0.0 - 223.255.255.255 (192.0.0.0/3)

其中 192.168.0.0 - 192.168.255.255 (192.168.0.0/16) 为私有地址 用于局域网 公网不应使用

##### D 类地址 32 位二进制以 1110 开头的地址 即 224.0.0.0 - 239.255.255.255 (224.0.0.0/4) 不适用网段概念 此处仅方便表达

其中 224.0.0.0 - 224.0.0.255 (224.0.0.0/24) 为预留的组播地址(永久组地址) 224.0.0.0 保留不做分配 其他地址供路由协议使用

其中 224.0.1.0 - 238.255.255.255 为用户可用的组播地址(临时组地址) 全网范围内有效

其中 239.0.0.0 - 239.255.255.255 (239.0.0.0/8) 为本地管理组播地址 仅在特定的本地范围内有效

均为多播地址 初学者不必理会 不应使用

##### E 类地址 32 位二进制以 11110 开头的地址 即 240.0.0.0 - 255.255.255.255 (240.0.0.0/5) 不适用网段概念 此处仅方便表达

其中 255.255.255.255 为以太网协议的广播地址 经常用于分配 ip 地址前和过程中的通信

其中 240.0.0.0 - 254.255.255.255 为保留地址 用作实验研究

其余为非法地址不应使用

#### 子网掩码和网段

ip 地址用于通信 协议将 ip 地址划分不同网段

子网掩码拥有 ip 地址的形式 整个 ip 网段中相同位将该网段相应位置为 1 整个 ip 网段中可变的位将该网段相应位置为 0

例如 192.168.1.0 -192.168.1.255 可被划分为一个网段 子网掩码为 255.255.255.0

因 192.168.1.0 - 192.168.1.255 前 16 均相同 后 8 为可变

192.168.1.0 255.255.255.0 可表达 192.168.1.0 - 192.168.1.255 的网段 简化写作 192.168.1.0/24

赋予一个网卡一个 ip 地址时需要提供网段信息 以告知系统只处理网段内的数据 不处理网段外的数据

例如赋予一张网卡 192.168.1.1/24 的地址意味着 网卡应处理 192.168.1.0 - 192.168.1.255 向 192.168.1.1 发送的数据 并将数据发送到 192.168.1.0 -192.168.1.255

但 ip 报文中没有子网掩码的字段 意味着子网掩码只是本系统处理数据的规则 不涉及通信对方处理数据的规则

即一根网线两端的网卡地址若分别为 192.168.1.1/24 192.168.1.2/25 他们仍可正常通信
